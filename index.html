<!DOCTYPE HTML>
<!--
	Story by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>陸姐手工水餃訂購網頁</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper" class="divided">

				<!-- One -->
					<section class="banner style1 orient-left content-align-left image-position-right fullscreen onload-image-fade-in onload-content-fade-right">
						<div class="content">
							<h1>陸姐手工水餃&nbsp;</h1>
							<p class="major">家中我排行老六，所以被稱為“陸姐（六姐）”。 豬肉是品冠現代畜產（養豬人家）的"陽光豬肉"，食安嚴格把關。 採用新鮮可口高麗菜， 泡菜採用金媽媽泡菜，。 純手工，為保持鮮度，訂單確定後需要3天至一週的工作時間，請嘗鮮，謝謝！</p>
							<!-- <p style="color:blue;">物價上漲關係，故暫不販售蝦仁水餃以及蝦仁千張，其餘水餃每顆調漲0.5元</p> -->
                            <p style="color:red;">鹹豬肉 粽子 餛飩 coming soon~</p>
                            <ul class="actions stacked">
							  <li><a href="#first" class="button big wide smooth-scroll-middle">訂購&nbsp;</a></li>
                            </ul>
						</div>
						<div class="image">
							<img src="./image/LOGO.png" alt="" />
						</div>
					</section>

				<!-- Two -->
					<section class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in" id="first">
						<div class="content">
							<h2>訂購手工水餃</h2>
							<p>★豬肉是採用品冠現代畜產陽光豬肉<br>手工水餃一顆4元。</p>
							<table>
								<tr>
									<th>品項</th>
									<th>50顆/包(1300g)</th>
									<th>30顆/包(780g)</th>
								</tr>
								<tr> <!--item0-->
									<td id="item0">高麗菜豬肉水餃</td>
									<td>
										<select id="item0Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item0Small">
											<option>0</option>
										</select>
									</td>
								</tr>
								<tr> <!--item1-->
									<td id="item1">韮菜菜豬肉水餃</td>
									<td>
										<select id="item1Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item1Small">
											<option>0</option>
										</select>
									</td>
								</tr>
								<tr> <!--item2-->
									<td id="item2">玉米豬肉水餃&nbsp;</td>
									<td>
										<select id="item2Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item2Small">
											<option>0</option>
										</select>
									</td>
								</tr>
								<tr>  <!--item3-->
									<td id="item3">泡菜豬肉水餃</td>
									<td>
										<select id="item3Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item3Small">
											<option>0</option>
										</select>
									</td>
								</tr>			
								<tr>  <!--item4-->
									<td id="item4">青葱豬肉水餃</td>
									<td>
										<select id="item4Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item4Small">
											<option>0</option>
										</select>
									</td>
								</tr>
								<tr>  <!--item5-->
									<td id="item5" style="display: none;">蝦仁豬肉水餃</td>
									<td style="display: none;">
										<select id="item5Big">
											<option>0</option>
										</select>
									</td>
									<td style="display: none;">
										<select id="item5Small">
											<option>0</option>
										</select>
									</td>
								</tr>
								<tr>  <!--item6-->
									<td id="item6">素食高麗菜水餃</td>
									<td>
										<select id="item6Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item6Small">
											<option>0</option>
										</select>
									</td>
								</tr>
								<tr>  <!--item7-->
									<td id="item7">素食泡菜水餃</td>
									<td>
										<select id="item7Big">
											<option>0</option>
										</select>
									</td>
									<td>
										<select id="item7Small">
											<option>0</option>
										</select>
									</td>
								</tr>
                            </table>
<!--                             <div class="field">
								<label for="name"><b>同種類水餃超過10袋，請餘下方欄位填寫</b></label>
                                <p><font size = "3">範例：高麗菜豬肉水餃 20大袋、高麗菜雞肉水餃 20大袋</font></p>
								<input type="text" name="dumplings" id="dumpling_ps" value="" autocomplete="on" />
							</div>
-->                        </div>
						<div class="image">
							<img src="./image/水餃.jpg" alt="" />
						</div>
					</section>

				<!-- Three -->
					<section class="spotlight style1 orient-left content-align-left image-position-center onscroll-image-fade-in">
						<div class="content">
							<h2>訂購手工千張</h2>
							<p>★豬肉是採用品冠現代畜產陽光豬肉<br>手工千張一顆6元。</p>
							<table>
								<tr>
									<th>品項</th>
									<th>20顆/袋(440g)&nbsp;</th>
<!--									<th>小包數量</th>-->
								</tr>
								<tr> <!--item8-->
									<td id="item8">千張高麗菜豬肉</td>
									<td>
									  <select id="item8Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item8Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
								<tr> <!--item9-->
									<td id="item9">千張韮菜菜豬肉</td>
									<td>
									  <select id="item9Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item9Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
								<tr> <!--item10-->
									<td id="item10">千張玉米豬肉&nbsp;</td>
									<td>
									  <select id="item10Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item10Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
								<tr>  <!--item11-->
									<td id="item11">千張泡菜豬肉</td>
									<td>
									  <select id="item11Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item11Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>			
								<tr>  <!--item12-->
									<td id="item12">千張青葱豬肉</td>
									<td>
									  <select id="item12Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item12Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
								<tr>  <!--item13-->
									<td id="item13" style="display: none;">千張蝦仁豬肉</td>
									<td style="display: none;">
									  <select id="item13Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item13Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
								<tr>  <!--item14-->
									<td id="item14">千張素食高麗菜</td>
									<td>
									  <select id="item14Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item14Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
								<tr>  <!--item15-->
									<td id="item15">千張素食泡菜</td>
									<td>
									  <select id="item15Big">
											<option>0</option>
										</select>
									</td>
<!--
									<td>
									  <select id="item15Small" style="visibility:hidden">
											<option>0</option>
										</select>
									</td>
-->
								</tr>
                            </table>
<!--                            <div class="field"> 
								<label for="name"><b>同種類千張超過10盒，請於下方欄位填寫種類及數量</b></label>
                                <p><font size = "3">範例：千張素食泡菜 15盒、千張蝦仁豬肉 20盒</font></p>
								<input type="text" name="sheets" id="sheets_ps" value="" autocomplete="on" />
							</div>
-->						</div>
						<div class="image">
							<img src="./image/千張.JPEG" alt="" />
						</div>
					</section>

				<!-- Four -->
					<section class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in">
						<div class="content">
							<h2><a class="button" onClick="calculate()">點我試算訂單</a></h2>
							<h2 id="resultHeader"></h2>
							<p id="resultText"></p>
							
						</div>
						<div class="image">
							<img src="./image/菜單.png" alt="" />
						</div>
					</section>
						
				<!-- Seven -->
					<section class="wrapper style1 align-center">
						<div class="inner medium">
							<h2>訂購資訊</h2>
							<form method="post" action="#">
								<div class="fields">
									<div class="field half">
										<label for="name"><b>姓名</b></label>
										<input type="text" name="name" id="myName" value="" autocomplete="on" />
									</div>
									<div class="field half">
										<label for="phone"><b>手機</b></label>
										<input type="text" name="phone" id="myPhone" value="" autocomplete="on" />
									</div>
									<div class="field">
										<label for="name"><b>出貨單位或地址</b></label>
										<input type="text" name="address" id="myAddress" value="" autocomplete="on" />
										<p><font size = "2">台中市區專人運送，免運費</font></p>
									</div>
                                    <div class="field">
                                        <label for="name"><b>有話要對陸姐說</b></label>
                                        <input type="text" name="postscript" id="postscript" value="無" autocomplete="on" />
                                    </div>
									<div class="field">
										<label for="message"><b>訂單明細</b></label>
										<p id="list">請先點選上頁"點我試算訂單"按鈕<br>以生成訂單明細</p>
									</div>
								</div>
								<h2><a class="button" onClick="send()" id="sendButton">送出訂單</a></h2>
							</form>
                            <p style="color:red; visibility:hidden;" id="news">鹹豬肉 粽子 餛飩 coming soon~</p>
						</div>
					</section>

				<!-- Footer -->
					<footer class="wrapper style1 align-center">
						<div class="inner">
							<p>陸姐手工水餃訂購網 ver 1.9</p>
							<p>Line帳號：@815wojar</p>
							<p>手機號碼：0937216507</p>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>

</html>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script>
		var item = [
		["高麗菜豬肉水餃",200,120],
		["韮菜豬肉水餃",200,120],
		["玉米豬肉水餃",200,120],
		["泡菜豬肉水餃",200,120],
		["青蔥豬肉水餃",200,120],
		["蝦仁豬肉水餃",400,240],
		["素食高麗菜水餃",200,120],
		["素食泡菜水餃",200,120],
		["千張高麗菜豬肉",120,0],
		["千張韮菜菜豬肉",120,0],
		["千張玉米豬肉 ",120,0],
		["千張泡菜豬肉 ",120,0],
		["千張青葱豬肉 ",120,0],
		["千張蝦仁豬肉 ",240,0],
		["千張素食高麗菜 ",120,0],
		["千張素食泡菜 ",120,0]];
		
		var listLength = item.length;
		var itemBig = [];	//下拉式選單的id
		var itemSmall = [];	//下拉式選單的id
		var itemX = [];		//品項的id
		var stringArray = [];	//明細字串
		var price = 0;
		var list;
		
		window.onload=function(){ //初始化視窗
			for(let u=0;u<listLength;u++){
				itemSmall[u]="item"+u+"Small";	 //製作id array
				itemBig[u]="item"+u+"Big";		//製作id array
				itemX[u]='item'+u;
				document.getElementById(itemX[u]).textContent = item[u][0]; //修改品項名稱
			}
            
            appendOption();
		}

		function getInt(idName){	//取選單中的整數值
			return parseInt(document.getElementById(idName).value);
		}		
		
		function calculate(){
			stringArray = [];
			price = 0;
			let prc = 0;	//小計
			for(let i=0;i<8;i++){	//抽取水餃選擇的品項
				if(getInt(itemBig[i])>0 || getInt(itemSmall[i])>0){
					prc = item[i][1]*getInt(itemBig[i]) + item[i][2]*getInt(itemSmall[i]); //小計
					stringArray = stringArray + item[i][0] + "：" + getInt(itemBig[i]) + "大包、" + getInt(itemSmall[i]) + "小包" + " = " + prc + "$\n";
					price += prc;
				}
			}
			for(let i=8;i<16;i++){	//抽取千張選擇的品項
				if(getInt(itemBig[i])>0){
					prc = item[i][1]*getInt(itemBig[i]); //小計
					stringArray = stringArray + item[i][0] + "：" + getInt(itemBig[i]) + "盒" + " = " + prc + "$\n";
					price += prc;
				}
			}
			list = stringArray;
			stringArray += "總金額：" + price + "$";
			
			document.getElementById('resultHeader').innerText = "訂單明細";
			document.getElementById('resultText').innerText = stringArray; //顯示清單
			document.getElementById('list').innerText = stringArray; //顯示清單
		}
	
		function test(){	//testing
        var test = document.getElementById("postscript").value;
			alert(test);
		}
	
		var time;
		function getTime(){
			var NowDate=new Date();
			var year = NowDate.getFullYear();
			var month = NowDate.getMonth();
			var date = NowDate.getDate();
			var hour = NowDate.getHours();
			var minute = NowDate.getMinutes();
			var second = NowDate.getSeconds();　
			time = year+'/'+(month+1)+'/'+date+' '+hour+':'+minute+':'+second;

//  			document.getElementById('list').innerText = time;	//Show time
　	
		}
		
		function send(){
			getTime();			
			
			var name = document.getElementById("myName").value;			//讀取輸入的Name
			var phone = document.getElementById("myPhone").value;		//讀取輸入的phone
			var address = document.getElementById("myAddress").value;	//讀取輸入的address
            var ps = document.getElementById("postscript").value;	    //讀取輸入的postscript
			
			if(name == ""){
				alert('請輸入姓名');
			}else if(phone == ""){
				alert('請輸入手機');	 
			}else if(address == ""){
				alert('請輸入地址');	 
			}else if(price == 0){
				alert('請先選購水餃或是千張\n再點選上頁"點我試算訂單"按鈕\n以生成訂單明細');
			}else{
				document.getElementById("sendButton").style.visibility = 'hidden';
				document.getElementById("news").style.visibility = 'visible';
				$.ajax({
				  type: "post",
				  data: {
					  "method": "write",
					  "time": time,
					  "name": name,
					  "phone": phone,
					  "address":address,
					  "price": price,
					  "list": list,
                      "ps": ps
				  },
				  url: "https://script.google.com/macros/s/AKfycbypNMOY2MgRl304OD9OjJb42A2SgoVBeVV8md-pgSGW6J24n873S2gRQxzhRDNMrzX1/exec" // 填入網路應用程式網址
				});

				alert('感謝您的購買\n訂單已經送出\n可以關閉頁面了');
			}
		}
        
        function appendOption(){        //Javascript增加select option的選項
            
            var min = 1,
                max = 30;
            
            for(var j = 0; j<listLength; j++){      //Big
                var select = document.getElementById(itemBig[j]);
                if(j==5||j==13){    //蝦仁水餃只有0選項
                    continue;
                }
                for (var i = min; i<=max; i++){
                    var opt = document.createElement('option');
                    opt.value = i;
                    opt.innerHTML = i;
                    select.appendChild(opt);
                }
            }
            
            for(var j = 0; j<=7; j++){      //Small
                var select = document.getElementById(itemSmall[j]);
                if(j==5||j==13){    //蝦仁水餃只有0選項
                    continue;
                }
                for (var i = min; i<=max; i++){
                    var opt = document.createElement('option');
                    opt.value = i;
                    opt.innerHTML = i;
                    select.appendChild(opt);
                }
            }

            

        
        }
		 
		
    </script>

